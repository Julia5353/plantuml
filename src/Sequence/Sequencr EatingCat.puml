@startuml
actor "Человек" as Человек
participant "Миска с кормом" as МК
participant "Кот" as Кот
participant "Корм" as Корм
participant "Магазин" as Магазин

' Линия жизни Человека
Человек -> МК : Подготовить миску
activate Человек
activate МК

== Шаг 1: Проверка наличия корма ==
alt Есть корм
    МК -> Корм : Получить корм из запасов
    activate Корм
    Корм --> МК : Корм готов
    deactivate Корм
else Нет корма
    Человек -> Магазин : Пойти в магазин за кормом
    activate Магазин
    Магазин --> Человек : Корм куплен
    deactivate Магазин
    МК -> Корм : Получить корм из запасов
    activate Корм
    Корм --> МК : Корм готов
    deactivate Корм
end

== Шаг 2: Кормление кота ==
Человек -> Кот : Поставить корм в миску
activate Кот
Кот -> МК : Принять корм
deactivate Кот
МК -> Кот : Кормить кота

== Шаг 3: Проверка, съел ли кот ==
loop Пока кот не поест
    alt Кот поел
        Кот -> МК : Отойти от миски
        Человек -> Кот : Проверить, съел ли кот
        Человек -> Человек : Завершение
    else Кот не поел
        Человек -> Кот : Попробовать другой корм или способ
        Кот -> МК : Отказаться от еды
        Человек -> МК : Предложить другой корм или способ
        Человек -> Кот : Попробовать накормить снова
    end
end
@enduml
